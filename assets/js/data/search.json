[ { "title": "[WIP]【WWDC16】优化 App 启动（基于 dyld 2）", "url": "/posts/Optimizing-App-Startup-Time/", "categories": "攻城狮, WWDC", "tags": "WWDC16, iOS, App 性能优化, App 启动优化, Mach-O, 虚拟内存, dyld 2", "date": "2021-07-29 00:00:00 +0800", "snippet": " 目录 前言 1. 谁想看这个 Session 2. 内容提要 Mach-O 简介 术语 Segment Section Segment 的类型 Mach-O Univeral Files 虚拟内存简介 间接层 1. 缺页中断 2. 多个进程共享物理内存 3. File backed mapping 4. 写时复制 (copy on write) 5. Dirty page &amp;amp; Clean..." }, { "title": "【WWDC17】优化 APP 启动（dyld 2 -&gt; dyld 3）", "url": "/posts/App-Startup-Time-dyld/", "categories": "攻城狮, WWDC", "tags": "WWDC17, iOS, APP 性能优化, APP 启动优化, dyld2, dyld3", "date": "2021-07-07 00:00:00 +0800", "snippet": " 目录 前言 术语 Darwin 里的 dyld 的全称 启动时间 (Startup Time) 启动闭包 (Launch Closure) 回顾 WWDC16：优化 APP 启动的建议 减少启动阶段的任务 多使用 Swift Instruments: Static initializer tracing dyld 简史 dyld 1.0 (1996–2004) dyld 2.0 (2004–2007) 1. dyld 2.0..." }, { "title": "【WWDC19】优化 APP 启动（基于 dyld 3）", "url": "/posts/Optimizing-App-Launch/", "categories": "攻城狮, WWDC", "tags": "WWDC19, iOS, APP 性能优化, APP 启动优化, dyld 3", "date": "2021-06-06 00:00:00 +0800", "snippet": " 目录 前言 1. 什么是启动 暖场小故事 为什么启动很重要 1. 第一印象 2. 可以反映整体的代码质量 3. 性能 启动的类型 1. 冷启动 2. 热启动 3. Resume 不同启动类型的对比 启动的目标耗时：400毫秒 案例：Maps APP 的启动 启动的 6 个阶段 ..." }, { "title": "【iOS 14】Objective-C Runtime 的优化", "url": "/posts/Objective-C-Runtime-Changes-in-iOS-14/", "categories": "攻城狮, WWDC", "tags": "WWDC 2020, iOS, Objective-C Runtime, class_rw_ext_t, Reletive Method List, Tagged Pointer", "date": "2021-05-17 00:00:00 +0800", "snippet": " 目录 前言 新特性的适配 1. 新增类型：class_rw_ext_t class_ro_t Clean memory &amp;amp; Dirty memory class_rw_t 从 class_rw_t 中拆分出 class_rw_ext_t 实例 macOS 的 Mail macOS 版的 WeChat 使用 Runtime APIs 2. 相对方法列表（ Reletive Method Lists ） ..." }, { "title": "po、p、v 命令；LLDB 的自定义 Data Formatter；在 LLDB 中使用 Python 脚本", "url": "/posts/LLDB-beyond-po/", "categories": "攻城狮, WWDC", "tags": "WWDC 2019, iOS, LLDB", "date": "2021-03-02 00:00:00 +0800", "snippet": " 目录 前言 LLDB 常用命令 po、p、v LLDB 常用命令一：po po 的常见用法 po 是 expression 命令的 alias 创建自定义的 alias po 的原理 LLDB 常用命令二：p p 是 expression 命令的 alias p 的原理 LLDB 常用命令三：v v 是 frame ..." }, { "title": "警惕 NSTimer 引起的循环引用", "url": "/posts/NSTimer-circular-reference/", "categories": "攻城狮, iOS Dev Tips", "tags": "iOS, 定时器, NSTimer, NSProxy", "date": "2021-02-20 00:00:00 +0800", "snippet": "典型案例：使用 Target-Action 模式添加 NSTimer考虑这种场景：进入一个页面后，启动 timer；退出此页面后，timer 也销毁。看看下面的代码实现有什么问题：#import &quot;ViewController.h&quot;@interface ViewController ()@property (nonatomic, strong) NSTimer *timer;@end@implementation ViewController- (void)viewDidLoad { [super viewDidLoad]; self.timer ..." }, { "title": "在 macOS 的 Mission Control 中展示完整的桌面预览", "url": "/posts/forceFullDesktopBar/", "categories": "攻城狮, macOS Tools", "tags": "macOS", "date": "2021-02-16 00:00:00 +0800", "snippet": "背景在 macOS 的某个大版本升级后，Mission Control 的桌面预览变成了只有桌面编号的缩略样式，在不同桌面之间切换时非常不方便。后来我发现了一个叫 forceFullDesktopBar 的插件，可以强制 Mission Control 展示完整的桌面预览。forceFullDesktopBar 简介原理：Modifies the Dock process so that the desktop bar in Mission Control is always full size and showing previews.仓库地址：https://github.com/b..." }, { "title": "Blog&#39;s 2020：扬帆起航", "url": "/posts/blog-2020/", "categories": "随笔", "tags": "Life, 关于写博客", "date": "2020-08-08 00:00:00 +0800", "snippet": "2020年8月8号凌晨写下标题后就睡了，想着早上起来再接着写。而现在已经是11号深夜了。突然听到她的消息8号是周六，原本打算利用这个周末好好规划一下写博客的事情。然而早上刚起床，就看到了关于她的消息。为了调节情绪，整个周末都没有学习，一直在弹琴，想在音乐的世界里找到一些慰藉。尘封往事2018年年中刚和前女友分手时，情绪波动得厉害，处于一种恍惚的状态中，没心思专研技术，睡眠也不太好，常常凌晨两点睡，早上七点就醒了，而且一醒来就情绪低落。过了好长一段时间才慢慢好转。8号早上突然得知她已毕业要结婚了，尘封的情绪又开始暗流涌动。虽然这是意料之中的事情，但情绪的波动幅度却超出了预期。经过几天的调整..." }, { "title": "在 Ubuntu Server 中使用 Shadowsocks 客户端", "url": "/posts/use-shadowsocks-under-ubuntu-server/", "categories": "攻城狮, Proxy Tools", "tags": "Proxy, Shadowsocks", "date": "2017-10-27 00:00:00 +0800", "snippet": "一个墙内 Ubuntu Server 的无奈2018/12/26 更新：之前写了这篇文章的标题后、博客就停更了，然后一年过去了。。。前段时间写了一个关于「翻(和谐)墙」的详细指南(为此还专门建了一个仓库)，这篇所想讲的内容已经被涵盖，可直接参考该仓库的相关内容。" }, { "title": "Shadowsocks 改用 443 端口", "url": "/posts/fuck-GFW/", "categories": "攻城狮, Proxy Tools", "tags": "Proxy, Shadowsocks", "date": "2017-10-27 00:00:00 +0800", "snippet": "情况分析伴随着十九大的胜利召开, 部分运营商加强了对境外网站访问的管控, 导致许多业内人士登不上 Google, 严重影响了工作的效率.其中管控最严格的是北京电信. 北京电信启用了端口白名单(详情可查看这个帖子), 墙外的大部分机器都只能通过 1024 以下的端口访问, 比如 22 和 443 端口. 其他端口基本上被封, 比如我们常在 ss 上用的 8388 和 8989 端口.如果你的 ss 突然不好使了, 可能就是遇到了上述的这个问题, 可以试着换一下端口. 换端口后可以在这个网站扫描服务器的端口, 看看端口是不是正常开启了. 如果端口异常, 可能是防火墙未开启这个端口, 需要在系..." }, { "title": "改变 UITabBarItem 上 badge(小红点)的大小", "url": "/posts/change-UITabBarItem-badge-size/", "categories": "攻城狮, iOS Dev Tips", "tags": "iOS, UIKit, UITabBar", "date": "2017-04-08 00:00:00 +0800", "snippet": "小红点简介APP 里的小红点, 对于无数强迫症患者来说, 简直就是一场灾难. 然而, 用户和程序员都不怎么喜欢的小红点, 对产品经理来说却是一个”重要特性”. 所以小红点是大部分 app 都需要做的功能.iOS 对小红点有一些原生的支持, 也有一些相关的第三方库, 比如 RKNotificationHub.关于小红点的新需求 需求 : 给 UITabBarItem 添加一个不带数字的小红点 .可能的实现方式一: (使用 iOS 原生的方法)这个时候我们最先想到的可能就是使用 UITabBarItem 的 badgeValue 属性, 因为不需要显示数字, 所以直接给一个空字符串:se..." }, { "title": "ObjC 中 selector, method, message 的区别", "url": "/posts/the-difference-between-selector-method-message-in-ObjC/", "categories": "攻城狮, iOS Dev Tips", "tags": "iOS, Objective-C Runtime", "date": "2017-04-04 00:00:00 +0800", "snippet": "有点晚了, 先占个坑待填.selector, 方法名method, selector 及 method 的实现.message, selector 及 所需的参数.#import &quot;InteractiveSectionController.h&quot;#import &quot;InteractiveCell.h&quot;@implementation InteractiveSectionController#pragma mark - IGListSectionType- (NSInteger)numberOfItems { return 1;}- (CGSize)..." }, { "title": "放弃Ghost，拥抱Github Pages + Jekyll", "url": "/posts/welcome-to-jekyll/", "categories": "随笔", "tags": "关于写博客", "date": "2016-09-17 00:00:00 +0800", "snippet": "我近几年博客没写多少，博客系统倒是换得挺勤。从最早的各种基于LAMP的开源CMS，到后来的集成有Markdown编辑器的Ghost，没有一个的使用时间超过一年。Ghost是从今年年初开始用的，和老牌的CMS相比它更加简约，但它也有些不完善的地方一直让我用着不太舒服，比如不支持Markdown的表格语法，编辑器里的代码块预览很丑，等等，所以用了不到一年就放弃了。Jekyll其实很早就接触过，业界也有很多人在用，可能是因为之前频繁地更换博客系统导致我不想折腾了，就一直没去弄。最近想着一直没有一个稳定的博客系统心里总会不踏实，就花了点时间部署了Git Pages + Jekyll，并把自己的域..." } ]
